# ============================================================================
# OpenShop Environment Variables Template
# ============================================================================
# Copy this file to .env and update with your actual values
# cp .env.example .env

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL Configuration (shared across all service databases)
DB_USER=openshop
DB_PASSWORD=openshop123

# Individual Database Names (automatically created by docker-compose)
USER_DB_NAME=userdb
PRODUCT_DB_NAME=productdb
ORDER_DB_NAME=orderdb
PAYMENT_DB_NAME=paymentdb
CART_DB_NAME=cartdb
INVENTORY_DB_NAME=inventorydb
NOTIFICATION_DB_NAME=notificationdb
SHIPPING_DB_NAME=shippingdb

# Database Ports
USER_DB_PORT=5432
PRODUCT_DB_PORT=5433
ORDER_DB_PORT=5434
PAYMENT_DB_PORT=5437
CART_DB_PORT=5435
INVENTORY_DB_PORT=5436
NOTIFICATION_DB_PORT=5438
SHIPPING_DB_PORT=5439

# ============================================================================
# KAFKA CONFIGURATION
# ============================================================================

KAFKA_BOOTSTRAP_SERVERS=localhost:9092
ZOOKEEPER_PORT=2181

# Kafka Topics (auto-created, but listed here for reference)
# order.inventory.reserve.request
# inventory.order.reserve.response
# order.payment.request
# payment.order.response
# order.shipping.request
# shipping.order.response

# ============================================================================
# JWT CONFIGURATION
# ============================================================================

# IMPORTANT: Change this secret in production!
# Generate a secure random string for production use
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-256-bits
JWT_EXPIRATION=86400000
# JWT expiration in milliseconds (86400000 = 24 hours)

# ============================================================================
# SERVICE PORTS
# ============================================================================

# API Gateway
API_GATEWAY_PORT=8080

# Microservices
USER_SERVICE_PORT=8081
PRODUCT_SERVICE_PORT=8082
ORDER_SERVICE_PORT=8083
PAYMENT_SERVICE_PORT=8084
CART_SERVICE_PORT=8085
INVENTORY_SERVICE_PORT=8086
NOTIFICATION_SERVICE_PORT=8087
SHIPPING_SERVICE_PORT=8088

# Frontend
FRONTEND_PORT=5173

# ============================================================================
# SERVICE URLS (for inter-service communication)
# ============================================================================

# Local Development URLs
USER_SERVICE_URL=http://localhost:8081
PRODUCT_SERVICE_URL=http://localhost:8082
ORDER_SERVICE_URL=http://localhost:8083
PAYMENT_SERVICE_URL=http://localhost:8084
CART_SERVICE_URL=http://localhost:8085
INVENTORY_SERVICE_URL=http://localhost:8086
NOTIFICATION_SERVICE_URL=http://localhost:8087
SHIPPING_SERVICE_URL=http://localhost:8088

# Docker Internal URLs (used when running in Docker Compose)
# USER_SERVICE_URL=http://user-service:8081
# PRODUCT_SERVICE_URL=http://product-service:8082
# ORDER_SERVICE_URL=http://order-service:8083
# PAYMENT_SERVICE_URL=http://payment-service:8084
# CART_SERVICE_URL=http://cart-service:8085
# INVENTORY_SERVICE_URL=http://inventory-service:8086
# NOTIFICATION_SERVICE_URL=http://notification-service:8087
# SHIPPING_SERVICE_URL=http://shipping-service:8088

# ============================================================================
# SPRING PROFILES
# ============================================================================

SPRING_PROFILES_ACTIVE=local
# Options: local, dev, staging, production

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

LOG_LEVEL=INFO
# Options: TRACE, DEBUG, INFO, WARN, ERROR

# Application-specific log level
APP_LOG_LEVEL=DEBUG

# ============================================================================
# CORS CONFIGURATION
# ============================================================================

# Allowed origins (comma-separated for multiple origins)
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=true

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Application Name
APP_NAME=OpenShop

# Environment
ENVIRONMENT=development
# Options: development, staging, production

# ============================================================================
# PAYMENT GATEWAY CONFIGURATION (Mock)
# ============================================================================

# Payment gateway settings (currently using mock implementation)
PAYMENT_GATEWAY_ENABLED=true
PAYMENT_GATEWAY_MODE=mock
# Options: mock, stripe, paypal (only mock is implemented)

# ============================================================================
# NOTIFICATION CONFIGURATION
# ============================================================================

# Email Configuration (Mock)
EMAIL_ENABLED=false
EMAIL_HOST=smtp.example.com
EMAIL_PORT=587
EMAIL_USERNAME=noreply@openshop.com
EMAIL_PASSWORD=changeme
EMAIL_FROM=noreply@openshop.com

# SMS Configuration (Mock)
SMS_ENABLED=false
SMS_PROVIDER=mock

# ============================================================================
# MONITORING & HEALTH
# ============================================================================

# Actuator endpoints
MANAGEMENT_ENDPOINTS_ENABLED=true
MANAGEMENT_PORT=8080
# Same as service port by default

# ============================================================================
# DOCKER CONFIGURATION
# ============================================================================

# Docker network name
DOCKER_NETWORK=openshop-network

# Docker compose project name
COMPOSE_PROJECT_NAME=openshop

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================

# Enable/disable development features
DEBUG_MODE=true
ENABLE_SWAGGER=true
ENABLE_H2_CONSOLE=false

# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# Enable HTTPS (for production)
ENABLE_HTTPS=false
SSL_KEY_STORE_PATH=classpath:keystore.p12
SSL_KEY_STORE_PASSWORD=changeme
SSL_KEY_STORE_TYPE=PKCS12

# CSRF Protection
CSRF_ENABLED=false
# Disable for API-only applications

# ============================================================================
# PERFORMANCE SETTINGS
# ============================================================================

# Database connection pool
DB_POOL_SIZE=10
DB_MIN_IDLE=5
DB_MAX_LIFETIME=1200000

# Kafka consumer settings
KAFKA_CONSUMER_THREADS=3
KAFKA_AUTO_OFFSET_RESET=earliest

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable/disable features
FEATURE_GRAPHQL_ENABLED=true
FEATURE_KAFKA_ENABLED=true
FEATURE_SAGA_ENABLED=true
FEATURE_NOTIFICATIONS_ENABLED=true

# ============================================================================
# NOTES
# ============================================================================

# 1. DO NOT commit the .env file with real credentials to version control
# 2. Each developer should have their own .env file
# 3. For production, use secure secret management (e.g., AWS Secrets Manager, Vault)
# 4. Update JWT_SECRET with a strong random value in production
# 5. Use environment-specific values for different deployment environments
